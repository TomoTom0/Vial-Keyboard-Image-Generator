# é–‹ç™ºè€…å‘ã‘ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

## æ¦‚è¦

Vial Keyboard Image Generatorã®é–‹ç™ºè€…å‘ã‘ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä¸€è¦§ã§ã™ã€‚

## ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä¸€è¦§

### ğŸš€ [ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰](./setup.md)
é–‹ç™ºç’°å¢ƒã®æ§‹ç¯‰ã‹ã‚‰é–‹å§‹ã¾ã§ã®æ‰‹é †
- ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶
- åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
- é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### ğŸ—ï¸ [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆæ›¸](./architecture.md)
ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®è¨­è¨ˆæ€æƒ³ã¨æŠ€è¡“æ§‹æˆ
- æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
- ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ
- ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼
- çŠ¶æ…‹ç®¡ç†
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### ğŸ“¦ [ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚¬ã‚¤ãƒ‰](./deployment.md)
æœ¬ç•ªç’°å¢ƒã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †ã¨ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹
- ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †
- ç’°å¢ƒè¨­å®š
- ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
- ç›£è¦–ãƒ»ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹

## ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### 1. ç’°å¢ƒæ§‹ç¯‰
```bash
git clone https://github.com/TomoTom0/Vial-Keyboard-Image-Generator.git
cd Vial-Keyboard-Image-Generator
cd frontend
npm install
```

### 2. é–‹ç™ºé–‹å§‹
```bash
npm run dev
# http://localhost:5173
```

### 3. ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤
```bash
npm run build  # ãƒ“ãƒ«ãƒ‰
./deploy.sh    # ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã§å®Ÿè¡Œï¼‰
```

## ä¸»è¦æŠ€è¡“

- **Frontend**: Vue.js 3 + TypeScript + Vite
- **State Management**: Pinia
- **Styling**: Sass
- **Deploy**: Cloudflare Pages

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
Vial-Keyboard-Image-Generator/
â”œâ”€â”€ frontend/           # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/ # Vue ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ stores/     # Pinia çŠ¶æ…‹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ utils/      # ã‚³ã‚¢ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ public/         # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ doc/                # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ dev/           # é–‹ç™ºè€…å‘ã‘ï¼ˆã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼‰
â”‚   â””â”€â”€ design/        # è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ data/              # ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ tasks/             # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†
â””â”€â”€ README.md          # ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘
```

## é–‹ç™ºãƒ•ãƒ­ãƒ¼

### æ©Ÿèƒ½è¿½åŠ 
1. Issueä½œæˆãƒ»ç¢ºèª
2. æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒä½œæˆ
3. é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆ
4. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
5. ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»ãƒãƒ¼ã‚¸
6. ãƒ‡ãƒ—ãƒ­ã‚¤

### ã‚³ãƒ¼ãƒ‰è¦ç´„
- **TypeScript**: å‹å®‰å…¨æ€§ã‚’é‡è¦–
- **Vue Composition API**: script setupæ§‹æ–‡ä½¿ç”¨
- **Pinia**: çŠ¶æ…‹ç®¡ç†ã¯ store å˜ä½ã§åˆ†å‰²
- **å‘½å**: camelCaseï¼ˆå¤‰æ•°ãƒ»é–¢æ•°ï¼‰ã€PascalCaseï¼ˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ»å‹ï¼‰

## ã‚ˆãã‚ã‚‹é–‹ç™ºã‚¿ã‚¹ã‚¯

### æ–°ã—ã„ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆè¿½åŠ 

#### 1. ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
`frontend/data/layouts/[keyboard_name].tsv` ã‚’ä½œæˆï¼š

```tsv
vial_row	vial_col	layout_row	layout_col	canvas_x	canvas_y	canvas_width	canvas_height	canvas_rotation	description
0	0	0	0	20.0	20.0	78	60	0.0	Left top row - Key 1
0	1	0	1	102.0	20.0	78	60	0.0	Left top row - Key 2
...
```

**å„åˆ—ã®èª¬æ˜**:
- `vial_row`, `vial_col`: VILè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å†…ã®è¡Œãƒ»åˆ—ä½ç½®
- `layout_row`, `layout_col`: ç”»é¢ä¸Šã®è«–ç†çš„ãªè¡Œãƒ»åˆ—ä½ç½®
- `canvas_x`, `canvas_y`: ã‚­ãƒ£ãƒ³ãƒã‚¹ä¸Šã®ãƒ”ã‚¯ã‚»ãƒ«åº§æ¨™
- `canvas_width`, `canvas_height`: ã‚­ãƒ¼ã®ã‚µã‚¤ã‚ºï¼ˆãƒ”ã‚¯ã‚»ãƒ«ï¼‰
- `canvas_rotation`: ã‚­ãƒ¼ã®å›è»¢è§’åº¦ï¼ˆé€šå¸¸ã¯0.0ï¼‰
- `description`: ã‚­ãƒ¼ã®èª¬æ˜

#### 2. è‡ªå‹•ç”Ÿæˆå®Ÿè¡Œ
```bash
cd frontend
npm run generate-mappings
```

#### 3. ç¢ºèª
ç”Ÿæˆã•ã‚Œã‚‹ `src/utils/keyboardConfig.generated.ts` ã‚’ç¢ºèª

### æ–°ã—ã„è¨€èªã‚­ãƒ¼ãƒãƒƒãƒ—è¿½åŠ 

#### 1. ã‚­ãƒ¼ãƒãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
`frontend/data/keymaps/[language_name].tsv` ã‚’ä½œæˆï¼š

```tsv
keycode	display	shift_display	description
KC_Q	q	Q	Letter Q
KC_W	w	W	Letter W
KC_SCLN	;	:	Semicolon/Colon
...
```

**å„åˆ—ã®èª¬æ˜**:
- `keycode`: QMKã‚­ãƒ¼ã‚³ãƒ¼ãƒ‰
- `display`: é€šå¸¸æ™‚ã®è¡¨ç¤ºæ–‡å­—
- `shift_display`: Shiftã‚­ãƒ¼æŠ¼ä¸‹æ™‚ã®è¡¨ç¤ºæ–‡å­—
- `description`: ã‚­ãƒ¼ã®èª¬æ˜

#### 2. å…±é€šã‚­ãƒ¼ãƒãƒƒãƒ—ç¢ºèª
`frontend/data/keymaps/common.tsv` ã«å…±é€šã‚­ãƒ¼ãŒå®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚
è¨€èªå›ºæœ‰ã®æ–‡å­—ã®ã¿ã‚’æ–°ã—ã„ãƒ•ã‚¡ã‚¤ãƒ«ã«è¨˜è¼‰ã—ã¦ãã ã•ã„ã€‚

#### 3. è‡ªå‹•ç”Ÿæˆå®Ÿè¡Œ
```bash
cd frontend
npm run generate-mappings
```

#### 4. UIè¿½åŠ 
è¨€èªé¸æŠUIã«æ–°ã—ã„è¨€èªã‚’è¿½åŠ ã™ã‚‹å ´åˆã¯ã€è©²å½“ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä¿®æ­£ã—ã¦ãã ã•ã„ã€‚

### æ–°ã—ã„å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆè¿½åŠ 
1. `stores/images.ts` ã«æ–°ã—ã„ç”Ÿæˆãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ 
2. `components/OutputTab.vue` ã« UI ã‚’è¿½åŠ 

## ã‚µãƒãƒ¼ãƒˆ

### è³ªå•ãƒ»ãƒã‚°å ±å‘Š
- GitHub Issues ã‚’ä½¿ç”¨
- è©³ç´°ãªå†ç¾æ‰‹é †ã‚’è¨˜è¼‰

### é–‹ç™ºç’°å¢ƒã®ãƒˆãƒ©ãƒ–ãƒ«
- [ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰](./setup.md) ã®ã€Œã‚ˆãã‚ã‚‹é–‹ç™ºèª²é¡Œã€ã‚’å‚ç…§
- Node.js/npm ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª

### ãƒ‡ãƒ—ãƒ­ã‚¤å•é¡Œ
- [ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚¬ã‚¤ãƒ‰](./deployment.md) ã®ã€Œãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€ã‚’å‚ç…§
- Cloudflare Pages ã®çŠ¶æ³ç¢ºèª

## ãƒ„ãƒ¼ãƒ«ãƒ»æ‹¡å¼µæ©Ÿèƒ½

### VS Code æ¨å¥¨æ‹¡å¼µ
- Vue Language Features (Volar)
- TypeScript Vue Plugin (Volar)
- Prettier - Code formatter
- ESLint

### Chrome æ‹¡å¼µ
- Vue.js devtools
- Lighthouse

### ä¾¿åˆ©ãªã‚³ãƒãƒ³ãƒ‰
```bash
# å‹ãƒã‚§ãƒƒã‚¯
npx vue-tsc --noEmit

# ãƒ“ãƒ«ãƒ‰ã‚µã‚¤ã‚ºåˆ†æ
npm run build && du -sh frontend/dist/*

# ä¾å­˜é–¢ä¿‚æ›´æ–°
npm update && npm audit
```

## ãƒªã‚½ãƒ¼ã‚¹

### å¤–éƒ¨ãƒªã‚½ãƒ¼ã‚¹
- [Vue.js å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://ja.vuejs.org/)
- [Pinia å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://pinia.vuejs.org/)
- [Vite å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://ja.vitejs.dev/)
- [Cloudflare Pages ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://developers.cloudflare.com/pages/)

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰
- [è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](../design/)
- [ã‚¿ã‚¹ã‚¯ç®¡ç†](../../tasks/)
- [å¤‰æ›´å±¥æ­´](../../CHANGELOG.md)ï¼ˆä»Šå¾Œä½œæˆäºˆå®šï¼‰